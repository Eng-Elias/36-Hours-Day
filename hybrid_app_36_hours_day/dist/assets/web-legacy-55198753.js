System.register(["./index-legacy-3dd5112e.js"],(function(e,s){"use strict";var t;return{setters:[e=>{t=e.W}],execute:function(){e("TextToSpeechWeb",class extends t{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",(()=>{this.stop()})))}async speak(e){this.speechSynthesis||this.throwUnsupportedError(),await this.stop();const s=this.speechSynthesis,t=this.createSpeechSynthesisUtterance(e);return new Promise(((e,n)=>{t.onend=()=>{e()},t.onerror=e=>{n(e)},s.speak(t)}))}async stop(){this.speechSynthesis||this.throwUnsupportedError(),this.speechSynthesis.cancel()}async getSupportedLanguages(){return{languages:this.getSpeechSynthesisVoices().map((e=>e.lang)).filter(((e,s,t)=>t.indexOf(e)==s))}}async getSupportedVoices(){return{voices:this.getSpeechSynthesisVoices()}}async isLanguageSupported(e){return{supported:(await this.getSupportedLanguages()).languages.includes(e.lang)}}async openInstall(){this.throwUnimplementedError()}createSpeechSynthesisUtterance(e){const s=this.getSpeechSynthesisVoices(),t=new SpeechSynthesisUtterance,{text:n,lang:i,rate:r,pitch:h,volume:o,voice:p}=e;return p&&(t.voice=s[p]),o&&(t.volume=o>=0&&o<=1?o:1),r&&(t.rate=r>=.1&&r<=10?r:1),h&&(t.pitch=h>=0&&h<=2?h:2),i&&(t.lang=i),t.text=n,t}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}})}}}));
